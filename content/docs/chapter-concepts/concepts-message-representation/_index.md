---
title: "Message representation in syslog-ng OSE"
weight:  1700
---
<!-- DISCLAIMER: This file is based on the syslog-ng Open Source Edition documentation https://github.com/balabit/syslog-ng-ose-guides/commit/2f4a52ee61d1ea9ad27cb4f3168b95408fddfdf2 and is used under the terms of The syslog-ng Open Source Edition Documentation License. The file has been modified by Axoflow. -->

When the {{% param "product.abbrev" %}} application receives a message, it automatically parses the message. The {{% param "product.abbrev" %}} application can automatically parse log messages that conform to the RFC3164 (BSD or legacy-syslog) or the RFC5424 (IETF-syslog) message formats. If {{% param "product.abbrev" %}} cannot parse a message, it results in an error.

{{% alert title="Note" color="info" %}}

In case you need to relay messages that cannot be parsed without any modifications or changes, use the **flags(no-parse)** option in the source definition, and a template containing only the **${MESSAGE}** macro in the destination definition.

To parse non-syslog messages, for example, JSON, CSV, or other messages, you can use the built-in parsers of {{% param "product.abbrev" %}}. For details, see {{% xref "/docs/chapter-parsers/_index.md" %}}.

{{% /alert %}}

A parsed syslog message has the following parts:

  - **Timestamps**
    
    Two timestamps are associated with every message: one is the timestamp contained within the message (that is, when the sender sent the message), the other is the time when {{% param "product.abbrev" %}} has actually received the message.

  - **Severity**
    
    The severity of the message.

  - **Facility**
    
    The facility that sent the message.

  - **Tags**
    
    Custom text labels added to the message that are mainly used for filtering. None of the current message transport protocols adds tags to the log messages. Tags can be added to the log message only within {{% param "product.abbrev" %}}. The {{% param "product.abbrev" %}} application automatically adds the id of the source as a tag to the incoming messages. Other tags can be added to the message by the pattern database, or using the `tags()` option of the source.

  - **IP address of the sender**
    
    The IP address of the host that sent the message. Note that the IP address of the sender is a hard macro and cannot be modified within {{% param "product.abbrev" %}} but the associated hostname can be modified, for example, using rewrite rules.

  - **Hard macros**
    
    Hard macros contain data that is directly derived from the log message, for example, the ${MONTH} macro derives its value from the timestamp. The most important consideration with hard macros is that they are read-only, meaning they cannot be modified using rewrite rules or other means.

  - **Soft macros**
    
    Soft macros (sometimes also called name-value pairs) are either built-in macros automatically generated from the log message (for example, ${HOST}), or custom user-created macros generated by using the syslog-ng pattern database or a CSV-parser. The SDATA fields of RFC5424-formatted log messages become soft macros as well. In contrast with hard macros, soft macros are writable and can be modified within {{% param "product.abbrev" %}}, for example, using rewrite rules.
    
    {{% alert title="Note" color="info" %}}
It is also possible to set the value of built-in soft macros using parsers, for example, to set the ${HOST} macro from the message using a column of a CSV-parser.
    
    The data extracted from the log messages using named pattern parsers in the pattern database are also soft macros.
    {{% /alert %}} {{% alert title="Note" color="info" %}}
For the list of hard and soft macros, see {{% xref "/docs/chapter-manipulating-messages/customizing-message-format/macros-hard-vs-soft/_index.md" %}}.
    {{% /alert %}}


## Message size and encoding {#message-size-and-encoding}

Internally, {{% param "product.abbrev" %}} represents every message as UTF-8. The maximal length of the log messages is limited by the `log-msg-size()` option: if a message is longer than this value, {{% param "product.abbrev" %}} truncates the message at the location it reaches the `log-msg-size()` value, and discards the rest of the message.

When encoding is set in a source (using the `encoding()` option) and the message is longer (in bytes) than `log-msg-size()` in UTF-8 representation, {{% param "product.abbrev" %}} splits the message at an undefined location (because the conversion between different encodings is not trivial).

