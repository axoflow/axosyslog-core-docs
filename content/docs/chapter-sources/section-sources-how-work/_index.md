---
title: "How sources work"
weight:  100
---
<!-- DISCLAIMER: This file is based on the syslog-ng Open Source Edition documentation https://github.com/balabit/syslog-ng-ose-guides/commit/2f4a52ee61d1ea9ad27cb4f3168b95408fddfdf2 and is used under the terms of The syslog-ng Open Source Edition Documentation License. The file has been modified by Axoflow. -->

A source is where syslog-ng receives log messages. Sources consist of one or more drivers, each defining where and how messages are received.

To define a source, add a source statement to the syslog-ng configuration file using the following syntax:

```c
   source <identifier> {
        source-driver(params); source-driver(params); ...
    };
```


## Example: A simple source statement

The following source statement receives messages on the TCP port `1999` of the interface having the `10.1.2.3` IP address.

```c
   source s_demo_tcp {
        network(ip(10.1.2.3) port(1999));
    };
```



## Example: A source statement using two source drivers

The following source statement receives messages on the `1999` TCP port and the `1999` UDP port of the interface having the `10.1.2.3` IP address.

```c
   source s_demo_two_drivers {
        network(ip(10.1.2.3) port(1999));
        network(ip(10.1.2.3) port(1999) transport("udp"));
    };
```



## Example: Setting default priority and facility

If the message received by the source does not have a proper syslog header, you can use the `default-facility()` and `default-priority()` options to set the facility and priority of the messages. Note that these values are applied only to messages that do not set these parameters in their header.

```c
   source headerless_messages { network(default-facility(syslog) default-priority(emerg)); };
```


Define a source only once. The same source can be used in several log paths. Duplicating sources causes syslog-ng to open the source (TCP/IP port, file, and so on) more than once, which might cause problems. For example, include the `/dev/log` file source only in one source statement, and use this statement in more than one log path if needed.

{{% alert title="Warning" color="warning" %}}

{{% include-headless "chunk/para-initializing-sources-destinations.md" %}} {{% /alert %}}

To collect log messages on a specific platform, it is important to know how the native `syslogd` communicates on that platform. The following table summarizes the operation methods of `syslogd` on some of the tested platforms:

{{% include-headless "chunk/table-syslogd-operation-method-platform.md" %}}

Each possible communication mechanism has a corresponding source driver in syslog-ng. For example, to open a unix socket with `SOCK_DGRAM` style communication use the driver `unix-dgram`. The same socket using the `SOCK_STREAM` style — as used under Linux — is called `unix-stream`.


## Example: Source statement on a Linux based operating system

The following source statement collects the following log messages:

  - *internal()*: Messages generated by syslog-ng.

  - *network(transport("udp"))*: Messages arriving to the `514/UDP` port of any interface of the host.

  - *unix-dgram("/dev/log");*: Messages arriving to the `/dev/log` socket.

```c
   source s_demo {
        internal();
        network(transport("udp"));
        unix-dgram("/dev/log");
    };
```


The following table lists the source drivers available in syslog-ng.

{{% include-headless "chunk/table-source-drivers.md" %}}
